import{o,c as n,a as t,d as j,r as w,b,u as C,e as L,f as S,g as $,h as e,n as u,t as _,i as x,F as M,j as B,k as p,w as v,l as y,m as D,p as g,C as N,q as I,_ as V,s as A,v as O,x as P,S as E,y as R,R as z}from"./index-0NdCcII0.js";import{C as F,a as U}from"./company.constants-Cy1TNwKM.js";import{u as Y}from"./use-students-BIfwdX0S.js";import"./logo-C5CzYpGe.js";function Z(i,l){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"})])}function q(i,l){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})])}function G(i,l){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function H(i,l){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}const T=j("collapse",()=>{const i=w(!1);function l(){i.value=!i.value}return{isCollapsed:i,toggleCollapse:l}},{persist:!0}),J={class:"p-6 border-b border-gray-700 flex justify-between items-center"},K={class:"text-2xl font-bold flex items-center"},Q=["src"],W={key:0},X={class:"flex-grow"},ee={key:0},te={class:"flex flex-col items-center justify-center py-6"},se=b({__name:"SidePanel",setup(i){const l=C(),a=T(),{user:h}=L(),f=[{path:"/dashboard",label:"Dashboard",icon:G,disabled:!1,role:"basic_member"},{path:"/invite-user",label:"Invite User",icon:H,disabled:!1,role:"admin"}],m=S(()=>{var r,d;const c=((d=(r=h.value)==null?void 0:r.publicMetadata)==null?void 0:d.role)||"basic_member";return f.filter(s=>c==="admin"||s.role===c)});return(c,r)=>{const d=$("router-link");return o(),n("div",{class:"h-full bg-gray-900 text-gray-100 transition-all duration-300 flex flex-col justify-between",style:I([{width:e(a).isCollapsed?"5rem":"16rem"},{display:"flex"}])},[t("div",J,[t("h2",K,[t("img",{src:e(F),alt:"Multidoc LMS Logo",class:u(["w-8 h-8",{"mr-3":!e(a).isCollapsed}])},null,10,Q),e(a).isCollapsed?x("",!0):(o(),n("span",W,_(e(U)),1))])]),t("nav",X,[(o(!0),n(M,null,B(m.value,s=>(o(),p(d,{key:s.path,to:s.path,class:u(["flex justify-center items-center px-6 py-3 text-gray-300 hover:bg-gray-800 hover:text-white",{"opacity-50 pointer-events-none":s.disabled,"bg-gray-800":e(l).currentRoute.value.path===s.path}]),onClick:D(k=>s.disabled&&k.preventDefault(),["prevent"])},{default:v(()=>[(o(),p(y(s.icon),{class:u(["w-5 h-5",{"mr-3":!e(a).isCollapsed}])},null,8,["class"])),e(a).isCollapsed?x("",!0):(o(),n("span",ee,_(s.label),1))]),_:2},1032,["to","class","onClick"]))),128))]),t("div",te,[g(N,{isCollapsed:e(a).isCollapsed},null,8,["isCollapsed"])]),t("button",{onClick:r[0]||(r[0]=(...s)=>e(a).toggleCollapse&&e(a).toggleCollapse(...s)),class:u(["text-gray-300 hover:text-white border-t border-gray-700 py-3 flex items-center justify-end",["text-gray-300 hover:text-white border-t border-gray-700 py-3 flex items-center justify-end",{"justify-center":e(a).isCollapsed,"justify-end pr-5":!e(a).isCollapsed}]])},[(o(),p(y(e(a).isCollapsed?e(q):e(Z)),{class:"w-5 h-5"}))],2)],4)}}}),oe=V(se,[["__scopeId","data-v-705ef257"]]),ae={key:0},re={key:1,class:"flex h-screen bg-gray-100"},le={class:"flex-1 flex flex-col overflow-hidden"},ne={class:"bg-white border-b border-gray-200 p-4"},ie={class:"text-2xl font-semibold text-gray-800"},de={class:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100"},fe=b({__name:"DashboardLayout",setup(i){const l=w("Dashboard"),a=R(),h=C(),{getStudentById:f}=Y(),{userId:m,isLoaded:c}=A();return O(()=>{c.value&&!m.value&&h.push("/")}),P(a,async r=>{if(r.name==="student-details"){const d=parseInt(r.params.id,10),s=await f(d);l.value=s?`${s.display_name} Details`:"Student Details"}else l.value=typeof r.meta.title=="string"?r.meta.title:"Dashboard"}),(r,d)=>e(c)?(o(),n("div",re,[g(oe,{class:"w-64 hidden md:block"}),t("div",le,[t("header",ne,[t("h1",ie,_(l.value),1)]),t("main",de,[t("div",{class:u({"mx-auto px-6 py-8":!0,container:!r.$route.path.includes("invoice-editor")})},[(o(),p(E,null,{default:v(()=>[g(e(z))]),fallback:v(()=>d[0]||(d[0]=[t("div",{class:"flex items-center justify-center h-full"}," Loading... ",-1)])),_:1}))],2)])])])):(o(),n("div",ae,"Loading..."))}});export{fe as default};
