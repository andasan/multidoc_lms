import{o as s,c as l,a as t,d as j,r as y,b,u as k,e as $,f as S,g as B,h as p,i as e,t as v,j as g,F as L,k as M,l as u,w as _,m as w,n as x,p as A,C as D,q as I,_ as N,s as V,v as E,x as P,S as R,y as Z,R as z}from"./index-C_y30its.js";import{C as F}from"./company.constants-B4NxR415.js";import{u as U}from"./use-students-DMh6Nbth.js";function q(i,a){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})])}function H(i,a){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"})])}function O(i,a){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})])}function T(i,a){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function Y(i,a){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}const G=j("collapse",()=>{const i=y(!1);function a(){i.value=!i.value}return{isCollapsed:i,toggleCollapse:a}},{persist:!0}),J={class:"p-6 flex justify-between items-center"},K={class:"text-2xl font-bold flex items-center"},Q={key:0},W={class:"mt-6 flex-grow"},X={key:0},ee={class:"flex flex-col items-center justify-center py-6"},te=b({__name:"SidePanel",setup(i){const a=k(),n=G(),{user:h}=$(),f=[{path:"/dashboard",label:"Dashboard",icon:T,disabled:!1,role:"basic_member"},{path:"/invite-user",label:"Invite User",icon:Y,disabled:!1,role:"admin"}],m=S(()=>{var r,d;const c=((d=(r=h.value)==null?void 0:r.publicMetadata)==null?void 0:d.role)||"basic_member";return f.filter(o=>c==="admin"||o.role===c)});return(c,r)=>{const d=B("router-link");return s(),l("div",{class:"h-full bg-gray-900 text-gray-100 transition-all duration-300 flex flex-col justify-between",style:I([{width:e(n).isCollapsed?"5rem":"16rem"},{display:"flex"}])},[t("div",J,[t("h2",K,[p(e(q),{class:"w-5 h-5 mr-3"}),e(n).isCollapsed?g("",!0):(s(),l("span",Q,v(e(F)),1))])]),t("nav",W,[(s(!0),l(L,null,M(m.value,o=>(s(),u(d,{key:o.path,to:o.path,class:x(["flex items-center px-6 py-3 text-gray-300 hover:bg-gray-800 hover:text-white",{"opacity-50 pointer-events-none":o.disabled,"bg-gray-800":e(a).currentRoute.value.path===o.path}]),onClick:A(C=>o.disabled&&C.preventDefault(),["prevent"])},{default:_(()=>[(s(),u(w(o.icon),{class:"w-5 h-5 mr-3"})),e(n).isCollapsed?g("",!0):(s(),l("span",X,v(o.label),1))]),_:2},1032,["to","class","onClick"]))),128))]),t("div",ee,[p(D,{isCollapsed:e(n).isCollapsed},null,8,["isCollapsed"])]),t("button",{onClick:r[0]||(r[0]=(...o)=>e(n).toggleCollapse&&e(n).toggleCollapse(...o)),class:x(["text-gray-300 hover:text-white border-t border-gray-700 py-3 flex items-center justify-end",["text-gray-300 hover:text-white border-t border-gray-700 py-3 flex items-center justify-end",{"justify-center":e(n).isCollapsed,"justify-end pr-5":!e(n).isCollapsed}]])},[(s(),u(w(e(n).isCollapsed?e(O):e(H)),{class:"w-5 h-5"}))],2)],4)}}}),se=N(te,[["__scopeId","data-v-d37b678b"]]),oe={key:0},ae={key:1,class:"flex h-screen bg-gray-100"},re={class:"flex-1 flex flex-col overflow-hidden"},ne={class:"bg-white border-b border-gray-200 p-4"},le={class:"text-2xl font-semibold text-gray-800"},ie={class:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100"},pe=b({__name:"DashboardLayout",setup(i){const a=y("Dashboard"),n=Z(),h=k(),{getStudentById:f}=U(),{userId:m,isLoaded:c}=V();return E(()=>{c.value&&!m.value&&h.push("/")}),P(n,async r=>{if(r.name==="student-details"){const d=parseInt(r.params.id,10),o=await f(d);a.value=o?`${o.display_name} Details`:"Student Details"}else a.value=typeof r.meta.title=="string"?r.meta.title:"Dashboard"}),(r,d)=>e(c)?(s(),l("div",ae,[p(se,{class:"w-64 hidden md:block"}),t("div",re,[t("header",ne,[t("h1",le,v(a.value),1)]),t("main",ie,[t("div",{class:x({"mx-auto px-6 py-8":!0,container:!r.$route.path.includes("invoice-editor")})},[(s(),u(R,null,{default:_(()=>[p(e(z))]),fallback:_(()=>d[0]||(d[0]=[t("div",{class:"flex items-center justify-center h-full"}," Loading... ",-1)])),_:1}))],2)])])])):(s(),l("div",oe,"Loading..."))}});export{pe as default};
